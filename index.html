<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>완도 선교 여정 안내</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        /* 타임라인 세로선 스타일 */
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 23px; /* 아이콘 중앙에 맞게 위치 조정 */
            top: 56px; /* 아이콘 아래부터 시작 */
            height: calc(100% - 30px); /* 다음 아이템까지의 길이 */
            width: 2px;
            background-color: #e5e7eb; /* tailwind gray-200 */
        }
        /* 마지막 아이템에는 세로선 없음 */
        .timeline-item:last-child::before {
            display: none;
        }
        /* 주소와 전화번호에 터치 효과 */
        .clickable {
            cursor: pointer;
            transition: color 0.2s ease-in-out;
        }
        .clickable:hover {
            color: #2563eb; /* blue-600 */
        }
        /* 모달이 숨겨져 있을 때 */
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center py-10 px-4">
    <!-- 모바일 화면 비율에 맞춘 컨테이너 -->
    <div class="w-full max-w-sm bg-white rounded-2xl shadow-xl p-6 transform transition-all duration-500">
        <!-- 헤더 -->
        <div class="text-center mb-8">
            <h1 class="text-3xl font-extrabold text-gray-800 tracking-tight">완도 선교 여정</h1>
            <p class="text-base text-gray-500 mt-2">Wando Mission Trip Itinerary</p>
        </div>

        <!-- 이용 안내 문구 -->
        <div class="bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-4 rounded-md mb-8" role="alert">
            <div class="flex">
                <div class="py-1">
                    <svg class="fill-current h-6 w-6 text-blue-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm-1-11a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1zm1-4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg>
                </div>
                <div>
                    <p class="font-bold">이용 안내</p>
                    <p class="text-sm">주소를 터치하면 내비게이션 앱을 선택할 수 있고, 전화번호를 터치하면 통화가 연결됩니다.</p>
                </div>
            </div>
        </div>

        <!-- 여정 타임라인 -->
        <div class="space-y-8">

            <!-- 항목 1: 출발지 -->
            <div class="relative timeline-item">
                <div class="flex items-center">
                    <div class="flex-shrink-0 z-10 bg-sky-500 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                        </svg>
                    </div>
                    <div class="ml-5">
                        <div class="text-sm font-bold text-sky-600">출발지</div>
                        <h2 class="text-2xl font-bold text-gray-900">한성교회</h2>
                        <p class="text-lg text-gray-700 mt-1 clickable" onclick="openMapModal('한성교회', '서울 양천구 신정로13길 21')">서울 양천구 신정로13길 21</p>
                    </div>
                </div>
            </div>

            <!-- 항목 2: 점심 식사 -->
            <div class="relative timeline-item">
                <div class="flex items-center">
                    <div class="flex-shrink-0 z-10 bg-amber-500 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.36m11.14 0H18m0 0h.64C20.45 21 22 19.45 22 17.64V7.5a2.25 2.25 0 00-2.25-2.25H4.25A2.25 2.25 0 002 7.5v10.14C2 19.45 3.55 21 5.36 21m12.64 0H9.75" />
                        </svg>
                    </div>
                    <div class="ml-5">
                        <div class="text-sm font-bold text-amber-600">점심 식사</div>
                        <h2 class="text-2xl font-bold text-gray-900">대박집</h2>
                        <p class="text-lg text-gray-700 mt-1 clickable" onclick="openMapModal('대박집', '전남 완도군 완도읍 개포로62번길 9-10')">전남 완도군 완도읍 개포로62번길 9-10</p>
                        <a href="tel:061-555-3690" class="text-base text-gray-600 mt-1 block clickable">� 061-555-3690</a>
                    </div>
                </div>
            </div>

            <!-- 항목 3: 완도항 -->
            <div class="relative timeline-item">
                <div class="flex items-center">
                    <div class="flex-shrink-0 z-10 bg-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 18.75h16.5m-16.5 0a3.75 3.75 0 01-3.75-3.75V9.75A3.75 3.75 0 013.75 6h16.5a3.75 3.75 0 013.75 3.75v5.25A3.75 3.75 0 0120.25 18.75M15.75 6v-1.5A2.25 2.25 0 0013.5 2.25h-3A2.25 2.25 0 008.25 4.5V6m0 0h7.5"/>
                        </svg>
                    </div>
                    <div class="ml-5">
                        <div class="text-sm font-bold text-blue-700">완도항 (소안도 방면)</div>
                        <h2 class="text-2xl font-bold text-gray-900">화흥포항</h2>
                        <p class="text-lg text-gray-700 mt-1 clickable" onclick="openMapModal('화흥포항', '전남 완도군 완도읍 정도리 830-12')">전남 완도군 완도읍 정도리 830-12</p>
                    </div>
                </div>
            </div>

            <!-- 항목 4: 목적지 -->
            <div class="relative timeline-item">
                <div class="flex items-center">
                    <div class="flex-shrink-0 z-10 bg-emerald-500 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                        </svg>
                    </div>
                    <div class="ml-5">
                        <div class="text-sm font-bold text-emerald-600">선교 목적지</div>
                        <h2 class="text-2xl font-bold text-gray-900">소안동부교회</h2>
                        <p class="text-lg text-gray-700 mt-1 clickable" onclick="openMapModal('소안동부교회', '전남 완도군 소안면 소안북로 202-16')">전남 완도군 소안면 소안북로 202-16</p>
                    </div>
                </div>
            </div>

            <!-- 항목 5: 숙소 -->
            <div class="relative timeline-item">
                <div class="flex items-center">
                    <div class="flex-shrink-0 z-10 bg-violet-500 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.954a.75.75 0 011.06 0l8.954 8.954M21 12v4.243a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 16.243V12m18 0l-8.954-8.954a.75.75 0 00-1.06 0L3 12m18 0v4.243a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 16.243V12" />
                        </svg>
                    </div>
                    <div class="ml-5">
                        <div class="text-sm font-bold text-violet-600">숙소</div>
                        <h2 class="text-2xl font-bold text-gray-900">소안미라펜션</h2>
                        <p class="text-lg text-gray-700 mt-1 clickable" onclick="openMapModal('소안미라펜션', '전남 완도군 소안면 소안로 567')">전남 완도군 소안면 소안로 567</p>
                        <a href="tel:061-552-4711" class="text-base text-gray-600 mt-1 block clickable">📞 061-552-4711</a>
                    </div>
                </div>
            </div>
            
            <!-- 항목 6: 소안도항 -->
            <div class="relative timeline-item">
                <div class="flex items-center">
                    <div class="flex-shrink-0 z-10 bg-gray-500 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-md">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 18.75h16.5m-16.5 0a3.75 3.75 0 01-3.75-3.75V9.75A3.75 3.75 0 013.75 6h16.5a3.75 3.75 0 013.75 3.75v5.25A3.75 3.75 0 0120.25 18.75M15.75 6v-1.5A2.25 2.25 0 0013.5 2.25h-3A2.25 2.25 0 008.25 4.5V6m0 0h7.5"/>
                        </svg>
                    </div>
                    <div class="ml-5">
                        <div class="text-sm font-bold text-gray-600">소안도항 (복귀 시)</div>
                        <h2 class="text-2xl font-bold text-gray-900">소안항</h2>
                        <p class="text-lg text-gray-700 mt-1 clickable" onclick="openMapModal('소안항', '전남 완도군 소안면 소안로 6')">전남 완도군 소안면 소안로 6</p>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- 지도 선택 모달 -->
    <div id="mapModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-2xl shadow-xl p-6 w-full max-w-xs text-center">
            <h3 class="text-xl font-bold mb-2">어떤 앱으로 길안내 할까요?</h3>
            <p id="modalAddress" class="text-sm text-gray-600 mb-5"></p>
            <div class="space-y-3">
                <a id="tmapLink" href="#" target="_blank" class="block w-full bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-4 rounded-lg transition-colors">티맵</a>
                <a id="kakaoNaviLink" href="#" target="_blank" class="block w-full bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-4 rounded-lg transition-colors">카카오네비</a>
                <a id="googleMapLink" href="#" target="_blank" class="block w-full bg-gray-200 hover:bg-gray-800 font-bold py-3 px-4 rounded-lg transition-colors">구글지도</a>
            </div>
            <div class="mt-5 pt-5 border-t">
                 <button id="copyButton" class="w-full text-blue-600 hover:text-blue-800 font-semibold py-2">주소 복사하기</button>
            </div>
            <button onclick="closeMapModal()" class="mt-2 text-sm text-gray-500 hover:text-gray-700">닫기</button>
        </div>
    </div>

    <!-- 복사 알림용 토스트 메시지 -->
    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 z-50">
        주소가 클립보드에 복사되었습니다.
    </div>

    <script>
        // 알림 메시지를 보여주는 함수
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.opacity = 1;
            setTimeout(() => {
                toast.style.opacity = 0;
            }, 2000);
        }

        // --- 지도 선택 모달 관련 함수 ---
        let currentAddressForModal = '';

        function openMapModal(name, address) {
            currentAddressForModal = address;
            const encodedName = encodeURIComponent(name);
            const encodedAddress = encodeURIComponent(address);

            document.getElementById('modalAddress').textContent = address;
            
            // 내비게이션 앱별 URL Scheme 설정
            document.getElementById('tmapLink').href = `tmap://search?name=${encodedName}`;
            // 카카오내비 URL 스킴을 'search'로 변경하여 호환성 문제 해결
            document.getElementById('kakaoNaviLink').href = `kakaonavi-sdk://search?q=${encodedName}`;
            document.getElementById('googleMapLink').href = `https://www.google.com/maps/search/?api=1&query=${encodedAddress}`;
            
            document.getElementById('mapModal').classList.remove('hidden');
        }

        function closeMapModal() {
            document.getElementById('mapModal').classList.add('hidden');
        }

        function copyAddress(address) {
            const textarea = document.createElement('textarea');
            textarea.value = address;
            textarea.style.position = 'fixed';
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                showToast('주소가 클립보드에 복사되었습니다.');
            } catch (err) {
                console.error('주소 복사 실패:', err);
                showToast('오류: 주소 복사에 실패했습니다.');
            }
            document.body.removeChild(textarea);
            setTimeout(closeMapModal, 300); // 복사 후 모달 닫기
        }

        // 복사 버튼 이벤트 리스너 설정
        document.getElementById('copyButton').addEventListener('click', () => {
            copyAddress(currentAddressForModal);
        });

        // 모달 바깥 영역 클릭 시 닫기
        document.getElementById('mapModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeMapModal();
            }
        });
    </script>
</body>
</html>